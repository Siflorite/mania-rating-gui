<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="350" viewBox="0 0 1200 350">
    <defs>
        <!-- ÂÆö‰πâÊª§ÈïúÔºöÂè≥‰æßËÉåÊôØÊ∑°Âåñ -->
        <filter id="blurAndFade">
            <feGaussianBlur stdDeviation="8" />
            <feComponentTransfer>
                <feFuncA type="linear" slope="0.5" />
            </feComponentTransfer>
        </filter>
        <clipPath id="globalClip">
            <rect x="0" y="0" width="1200" height="300" rx="20" ry="20"/>
        </clipPath>
        <clipPath id="leftClip">
            <rect x="0" y="0" width="300" height="300" rx="20" ry="20"/>
        </clipPath>
        <clipPath id="downClip">
            <rect x="0" y="0" width="1200" height="50" rx="20" ry="20"/>
        </clipPath>
    </defs>
    <rect x="0" y="0" width="1200" height="350" rx="20" ry="20" fill="black"/>
    <!-- Âçï‰∏™Âç°ÁâáÊ®°Êùø -->
    <g clip-path="url(#globalClip)">
        <!-- Âè≥‰æß 900x300 Âå∫Âüü -->
        <g transform="translate(300, 0)">
            <!-- ËÉåÊôØÁº©ÊîæË£ÅÂâ™ -->
            <image
                href="{{bg_image}}"
                width="920" height="300"
                x="-20"
                filter="url(#blurAndFade)"
                preserveAspectRatio="xMidYMid slice"
            />
            
            <!-- ÊñáÂ≠óÁªÑ -->
            <g transform="translate(30, 40)" font-size="28" font-weight="500" font-family="Source Han Sans SC" fill="white">
                <!-- Ê†áÈ¢ò -->
                <text class="title" stroke="#000" paint-order="stroke">
                    <tspan font-size="20"  stroke-width="0.5px">{{title_ascii}}</tspan>
                    <tspan x="0" y="40" font-size="42" font-weight="700" stroke-width="1px">{{title}}</tspan>
                    <tspan x="0" y="72" font-size="14" fill="#ccc" stroke-width="0.4px">{{artist_ascii}}</tspan>
                    <tspan x="0" y="96" font-size="24" fill="#ccc" stroke-width="0.5px">{{artist}} // {{creator}}</tspan>
                    <tspan x="0" dy="45" font-size="20" stroke-width="0.5px">{{version}}</tspan>
                </text>

                <!-- ÂÖÉÊï∞ÊçÆ -->
                <g transform="translate(0, 186)" font-size="24" paint-order="stroke">
                    <g transform="translate(0, 0)">
                        <text>
                        <tspan font-family="Noto Color Emoji">üéπ</tspan>
                        <tspan stroke-width="1px" stroke="#000" font-family="Source Han Sans">{{column_count}}K</tspan>
                        </text>
                    </g>
                    <g transform="translate(85, 0)">
                        <text font-family="Noto Color Emoji">üéµ</text>
                        <g transform="translate(40, 0)">
                            <text font-family="Source Han Sans" stroke-width="1px" stroke="#000">{{bpm}}</text>
                        </g>
                    </g>
                    <g transform="translate({{len_pos}}, 0)">
                        <text>
                        <tspan font-family="Noto Color Emoji">‚è±Ô∏è</tspan>
                        <tspan stroke-width="1px" stroke="#000" font-family="Source Han Sans">{{length}}</tspan>
                        </text>
                    
                        <g transform="translate(120, 0)">
                            <rect x="-8" y="-28" width="110" height="40" fill="{{sr_gradient}}" rx="20" ry="20"/>
                            <text stroke-width="0.7px" stroke="#000">
                            <tspan font-family="Source Han Sans">‚òÖ {{sr}}</tspan>
                            </text>
                        </g>
                    </g>
                    <g transform="translate(0, 40)">
                        <text>
                        <tspan font-family="Noto Color Emoji">üçö</tspan>
                        <tspan stroke-width="1px" stroke="#000" font-family="Source Han Sans">{{note_str}}+</tspan>
                        <tspan font-family="Noto Color Emoji">üçú</tspan>
                        <tspan stroke-width="1px" stroke="#000" font-family="Source Han Sans">{{ln_str}}</tspan>
                        </text>
                    </g>
                </g>
            </g>

            <!-- ÊàêÁª©‰∏éRating -->
            <g transform="translate(550, 0)">
                <text x="340" y="45" text-anchor="end" stroke-width="2px" stroke="#000" paint-order="stroke" fill="#fff" font-family="Source Han Sans" font-size="40" font-weight="700">
                    #{{rating_index}}
                </text>
                <!-- ÂúÜÁéØ -->
                <g transform="translate(160, 140)">
                    <defs>
                        <mask id="marvellous-mask">
                            <circle cx="0" cy="0" r="110" fill="white"/>
                            <circle cx="100" cy="0" r="10" fill="black"/>
                        </mask>
                    </defs>

                    <circle
                        cx="0" cy="0" r="89.5" stroke="black" stroke-width="1px" fill="none" paint-order="stroke" stroke-opacity="0.2"
                    />
                    <circle
                        cx="0" cy="0" r="110.5" stroke="black" stroke-width="1px" fill="none" paint-order="stroke" stroke-opacity="0.2"
                    />
                    <g cx="0" cy="0" stroke-width="20px" stroke-linecap="round" fill="none" transform="rotate(-90 0 0)">
                        <circle
                            r="100"
                            stroke="gray"
                        />
                        <circle
                            id="miss" r="100"
                            stroke="#c70000"
                            stroke-dashoffset="-{{miss_offset}}"
                            stroke-dasharray="{{miss_ratio}}, 628.3185307179586"
                        />
                        <circle
                            id="bad" r="100"
                            stroke="#e50097"
                            stroke-dashoffset="-{{bad_offset}}"
                            stroke-dasharray="{{bad_ratio}}, 628.3185307179586"
                        />
                        <circle
                            id="good" r="100"
                            stroke="#008fd7"
                            stroke-dashoffset="-{{good_offset}}"
                            stroke-dasharray="{{good_ratio}}, 628.3185307179586"
                        />
                        <circle
                            id="great" r="100"
                            stroke="#50cf63"
                            stroke-dashoffset="-{{great_offset}}"
                            stroke-dasharray="{{great_ratio}}, 628.3185307179586"
                        />
                        <circle
                            id="perfect" r="100"
                            stroke="#fffb7f"
                            stroke-dashoffset="-{{perf_offset}}"
                            stroke-dasharray="{{perf_ratio}}, 628.3185307179586"
                        />
                        <!-- r=10, R=110, arcsin(r/(R-r))=arcsin(1/10)=0.100167(grad) -->
                        <!-- 0.100167*100*2=20.0334 -->
                        <!--Âõ†Ê≠§Â¶ÇÊûúmarvÁöÑËµ∑Âßã‰ΩçÁΩÆË∂ÖËøá20.04ÔºåÂ∞±ÂèØ‰ª•ÈáçÊñ∞ÁªòÂà∂‰∫Ü -->
                        <circle
                            id="marvellous" r="100"
                            stroke="#75d7fc"
                            stroke-dashoffset="0"
                            stroke-dasharray="{{marv_ratio}}, 628.3185307179586"
                            mask="url(#marvellous-mask)"
                        />
                        {{#if marv_extra}}
                        <circle
                            id="marvellous" r="100"
                            stroke="#75d7fc"
                            stroke-dashoffset="-20.04"
                            stroke-dasharray="{{marv_extra}}, 628.3185307179586"
                        />
                        {{/if}}
                    </g>
                    <circle
                        id="fill" cx="0" cy="0" r="90"
                        fill="#1f1e33" 
                        fill-opacity="0.8"
                    />
                    <text x="0" y="10" text-anchor="middle" stroke-width="2px" stroke="#000" paint-order="stroke" fill="#fff" font-family="Source Han Sans" font-size="48" font-weight="700">
                        {{rating}}
                    </text>
                    <text x="0" y="35" text-anchor="middle" stroke-width="1px" stroke="#000" paint-order="stroke" fill="#fff" font-family="Source Han Sans" font-size="20" font-weight="500">
                        [{{diff}}]
                    </text>
                </g>

                <g transform="translate(295, 70)" fill-opacity="0.4">
                    <rect x="0" y="0" width="50" height="20" fill="#75d7fc" rx="10" ry="10"/>
                    <rect x="0" y="25" width="50" height="20" fill="#fffa49" rx="10" ry="10"/>
                    <rect x="0" y="50" width="50" height="20" fill="#00e721" rx="10" ry="10"/>
                    <rect x="0" y="75" width="50" height="20" fill="#0697df" rx="10" ry="10"/>
                    <rect x="0" y="100" width="50" height="20" fill="#e50097" rx="10" ry="10"/>
                    <rect x="0" y="125" width="50" height="20" fill="#c70000" rx="10" ry="10"/>
                </g>

                <text x="322" y="85" stroke-width="1px" stroke="#000" paint-order="stroke" fill="#fff" font-family="Source Han Sans" font-size="15" font-weight="500" text-anchor="middle">
                    <tspan>{{num_marv}}</tspan>
                    <tspan x="322" dy="25">{{num_perf}}</tspan>
                    <tspan x="322" dy="25">{{num_great}}</tspan>
                    <tspan x="322" dy="25">{{num_good}}</tspan>
                    <tspan x="322" dy="25">{{num_bad}}</tspan>
                    <tspan x="322" dy="25">{{num_miss}}</tspan>
                    <tspan fill="#00e721" x="160" y="270" text-anchor="middle">{{acc_r}}%</tspan>
                    <tspan fill="white" x="160" y="285" text-anchor="middle">({{acc}}%)</tspan>
                </text>
                {{#if diff_mod_color}}
                    <rect
                        x="210" y="225"
                        width="40" height="40"
                        fill="{{diff_mod_color}}"
                        fill-opacity="0.5"
                        rx="10" ry="10"
                    />
                    <text x="230" y="253" fill="white" font-family="Source Han Sans" font-size="20" font-weight="500" text-anchor="middle">{{diff_mod_text}}</text>
                {{/if}}
                {{#if speed_mod_color}}
                    <rect
                        x="255" y="225"
                        width="40" height="40"
                        fill="{{speed_mod_color}}"
                        fill-opacity="0.5"
                        rx="10" ry="10"
                    />
                    <text x="275" y="253" fill="white" font-family="Source Han Sans" font-size="20" font-weight="500" text-anchor="middle">{{speed_mod_text}}</text>
                {{/if}}
                {{#if is_score_v2}}
                    <rect
                        x="300" y="225"
                        width="40" height="40"
                        fill="gray"
                        fill-opacity="0.5"
                        rx="10" ry="10"
                    />
                    <text x="320" y="253" fill="white" font-family="Source Han Sans" font-size="20" font-weight="500" text-anchor="middle">V2</text>
                {{/if}}
                <text x="340" y="280" fill="white" font-family="Source Han Sans" font-size="12" font-weight="500" text-anchor="end">{{player_name}}</text>
                <text x="340" y="293" fill="white" font-family="Source Han Sans" font-size="12" font-weight="500" text-anchor="end">{{timestamp}}</text>
            </g>
        </g>
        <!-- Â∑¶‰æß 300x300 Âå∫Âüü -->
        <g transform="translate(0, 0)">
            <rect width="300" height="300" rx="20" ry="20" fill="black"/>
            <image
                href="{{bg_image}}"
                width="300" height="300"
                clip-path="url(#leftClip)"
                preserveAspectRatio="xMidYMid slice"
            />
        </g>
    </g>

    <g transform="translate(0, 300)">
        <rect
            fill="#757575"
            width="1200" height="50"
            filter="url(#blurAndFade)"
            preserveAspectRatio="xMidYMid slice"
            clip-path="url(#downClip)"
        />

        <g transform="translate(20, 35)">
        <text stroke-width="1.5px" stroke="#000" fill="#fff" font-size="24" font-weight="500" paint-order="stroke">
        <tspan font-family="Source Han Sans">Hash: {{beatmap_hash}}</tspan>
        <tspan font-family="Source Han Sans" dx="20">{{beatmap_url}}</tspan>
        <tspan font-family="Source Han Sans" x="1160" text-anchor="end">{{status}}</tspan>
        </text>
        </g>
    </g>
</svg>